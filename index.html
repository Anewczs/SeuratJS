<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset=utf-8>
	<script src="https://raw.github.com/DmitryBaranovskiy/raphael/master/raphael-min.js"></script>
</head>



<body>
<div><img src="new_york.jpg"></img></div>
<div id="cc1" style="width:720px;height:180px;clear:both;"></div>
<a href="javascript:anim1();">Play animation 1</a><br/>
<a href="javascript:anim2();">Play animation 2</a><br/>
<a href="javascript:anim3();">Play animation 3</a><br/>
<a href="javascript:anim4();">Play animation 4</a><br/>


<script src="seurat.js"></script>
<script>

var paper = new Raphael(document.getElementById('cc1'),720,180);
function anim1() {  
	paper.clear(); 
	paper.seurat({ imageSource: 'new_york.jpg', 
		step: 10, 
		mode: "circ" 
		,animation: function(elm, x,y,step){
			var anim = Raphael.animation({cx: 2, cy: 2, r: 1}, 2e3, function(){
				//alert('beam me up scotty');
				var anim2 = Raphael.animation({cx: (x+step/2), cy: (y+step/2), r: (step/2-1)}, 2e3);
			    elm.animate(anim2.delay(500+x*5+y*7))
			});
			elm.animate(anim.delay(500+x*10+y*10)); }
	});
}

function anim2() {  
	//var paper = new Raphael(document.getElementById('cc1'),720,180);//, can.width,can.height);  
	paper.clear();
	paper.seurat({ imageSource: 'new_york.jpg', 
		step: 10, 
		mode: "circ" 
		,animation: function(elm, x,y,step){
			var anim = Raphael.animation({r: 1}, 2e3, function(){
				//alert('beam me up scotty');
				var anim2 = Raphael.animation({r: (step/2-1+x*.005)}, 2e3);
			    elm.animate(anim2.delay(200+x*2))
			}).delay(200+x*2);
			elm.animate(anim);
			}
	});
}

function anim3() {   
	paper.clear();
	paper.seurat({ imageSource: 'new_york.jpg', 
		step: 10, 
		mode: "circ" 
		,animation: function(elm, x,y,step){
			var anim = Raphael.animation({cx: (Math.random()*720), cy: (Math.random()*180), r: (Math.random()*15)}, 2e3, function(){
				var anim2 = Raphael.animation({cx: (x+4), cy: (y+4), r: (step/2-1)}, 2e3);
			    elm.animate(anim2.delay(500));
			}).delay(Math.random()*2000);
			elm.animate(anim);
			}
	});
}

function anim4() {  
	paper.clear();
	paper.seurat({ imageSource: 'new_york.jpg', 
		step: 6, 
		mode: "circ" 
		,generation: function(ppr,x,y,color,step,attributes){
			return ppr.circle(x, 1, step/2-1).attr({fill: color}).attr(attributes);
		}
		,animation: function(elm, x,y,step){
			var anim2 = Raphael.animation({cx: x, cy: y, r: 4}, 2e3);
			elm.animate(anim2.delay(500));
				
			/*var anim = Raphael.animation({cx: (Math.random()*720), cy: (Math.random()*180), r: (Math.random()*15)}, 2e3, function(){
				var anim2 = Raphael.animation({cx: (x+4), cy: (y+4), r: (step/2-1)}, 2e3);
			    elm.animate(anim2.delay(500));
			}).delay(Math.random()*2000);
			elm.animate(anim);*/
			
			}
	});
}

</script>

</body>
</html>